Задание по баш скрипту
Здесь я попробую объяснить все что есть в репо
в test-bash.sh я начинаю с создания переменных:

```bash
LOGFILE="/var/log/test_mon.log"
PIDFILE="/var/run/test_mon.pid"
PROCESS="test"
MON_SERV="https://test.com/monitoring/test/api"
CURRENT_PID=`pgrep -x "$PROCESS" | head -n 1`
```
их предназначение это либо быть измененными для тестов(например заменить test на sleep или взять действительный сайт для curl запроса) или просто сократить повторение команд и названий

Дальше, мы проверяем существование процесса:
```bash
if test -z "$CURRENT_PID" ; then
    exit 0
fi
```
если процесса нет, то скрипт просто завершается

Если процесс перезагружен,то есть пид меняется. Поэтому был написан следующий код:
```bash
if test -f "$PIDFILE" ; then
    OLD_PID=`cat "$PIDFILE"`
    if test "$CURRENT_PID" != "$OLD_PID" ; then
        echo "`date` - $PROCESS был перезагружен (старый пид=$OLD_PID, новый пид=$CURRENT_PID)" >> $LOGFILE
    fi
fi
echo "$CURRENT_PID" > "$PIDFILE"
```
в конце, мы обновляем пид файл

Для того чтобы стучаться по нашему мониторинг серверу и писать лог при его недоступности, я написал один код:
```bash
if ! curl -s --fail $MON_SERV > /dev/null; then
    echo "`date` - Сервер мониторинга недоступен" >> $LOGFILE
fi
```
И наконец, код для повторений выше перечисленных действий каждую минуту: 
```bash
sleep 60
exec $0
```
на самом деле, вместо системд юнита можно было бы просто поставить кронджоб, что в принципе решило бы проблему с ежеминутным повтором

В качестве системд сервис юнита стоит обычный сервис файл, который можно запустить как сейчас так и на каждом запуске одной командой
```bash
systemctl enable --now test-systemd.service
```
естественно после того как вы добавите его в нужную дирректорию
